<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Nicholas Bian&#39;s Blog">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="Nicholas Bian&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Nicholas Bian">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Nicholas Bian's Blog</title>
  








<meta name="generator" content="Hexo 4.1.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Nicholas Bian's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Hello, world.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/29/Karatsuba/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nicholas Bian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nicholas Bian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/29/Karatsuba/" itemprop="url">Karatsuba</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-01-29T14:49:49+10:30">
                2020-01-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Code/" itemprop="url" rel="index">
                    <span itemprop="name">Code</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>C++ implementation of integer addition, multiplication and division using karatsuba.</p>
<p>This is a assignment that I’ve done in my ADSA class, which use the idea of karatsuba to solve the calculation problem with big numbers. As we know when the number is larger than the size of big int (2^63 -1), it’s impossible to simply calculate them in the regular way, sometimes we have to treat these numbers as strings instead of integers. By using the idea of Karatsuba, we can handle the calculation of big numbers easily. </p>
<p>First of all, what is Karatsuba?</p>
<p>The Karatsuba algorithm is a fast multiplication algorithm. It divide and conquer n-digit numbers to small pieces and do three multiplication and a number of addition instead of four multiplication, which reduced the complexity from n^2 to 3nlog3(3n^1.585).</p>
<p>Say we have two big numbers x and y present as n-digit strings in some base B. For any positive integer m less than n, one can write the two given numbers as:</p>
<p>x = x1<em>B^m + x0;              y = y1</em>B^m + y0;</p>
<p>xy = (x1<em>B^m + x0)(y1</em>B^m + y0)</p>
<p>​     =z2<em>B^2m + z1</em>B^m + z0;</p>
<p>where</p>
<p>Z2 = x1y1,</p>
<p>Z1 = x1y0 + x0y1,</p>
<p>Z0 = x0y0.</p>
<p>Z1 = x1y0 + x0y1 = (x1 + x0)<em>(y1 + y0) - x1</em>y1 - x0*y0.</p>
<p>So there are only three multiplication in karatsuba, recursively calculate Z0, Z1, and Z2 will get the result.</p>
<img src="/images/karatsuba.png" class="[class names]" title="karatsuba" alt="karatsuba">

<p>Here are the code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt; </span><br><span class="line"></span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">string schoolAdd(string str1, string str2, string B)&#123;</span><br><span class="line">	&#x2F;&#x2F;convert string to int</span><br><span class="line">	int base &#x3D; stoi(B);</span><br><span class="line">	&#x2F;&#x2F;if str1 or str2 is 0</span><br><span class="line">	if(str1.length() &lt;&#x3D; 0)&#123;</span><br><span class="line">		return str2;</span><br><span class="line">	&#125;</span><br><span class="line">	if(str2.length() &lt;&#x3D; 0)&#123;</span><br><span class="line">		return str1;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;put the larger nubmer at the top</span><br><span class="line">	if(str2.length() &gt; str1.length())&#123;</span><br><span class="line">		swap(str1, str2);</span><br><span class="line">	&#125;</span><br><span class="line">	string str &#x3D; &quot;&quot;;</span><br><span class="line">	&#x2F;&#x2F;the number of digits between str1 and str2</span><br><span class="line">	int gap &#x3D; str1.length() - str2.length();</span><br><span class="line">	int carry &#x3D; 0;</span><br><span class="line">	&#x2F;&#x2F;add the numbers of most insignificant digits, push into string</span><br><span class="line">	for(int i &#x3D; str2.length() - 1; i &gt;&#x3D; 0; i--)&#123;</span><br><span class="line">		int sum &#x3D; ((str2[i] - &#39;0&#39;) + (str1[i+gap] - &#39;0&#39;) + carry);</span><br><span class="line">		str.push_back(sum % base + &#39;0&#39;);</span><br><span class="line">		carry &#x3D; sum &#x2F; base;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;push the rest numbers and carry into string</span><br><span class="line">	for(int i &#x3D; str1.length() - str2.length() - 1; i &gt;&#x3D; 0; i--)&#123;</span><br><span class="line">		int sum &#x3D; ((str1[i] - &#39;0&#39;)+ carry);</span><br><span class="line">		str.push_back(sum % base + &#39;0&#39;);</span><br><span class="line">		carry &#x3D; sum &#x2F; base;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;if still have carry, push into string</span><br><span class="line">	if(carry)&#123;</span><br><span class="line">		str.push_back(carry + &#39;0&#39;);</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;reverse the string to the right sequence</span><br><span class="line">	reverse(str.begin(), str.end());</span><br><span class="line">	return str;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;remove 0 from the left hand side</span><br><span class="line">string removeZero(string str)&#123;</span><br><span class="line">	unsigned int i;</span><br><span class="line">	for(i&#x3D;0;i&lt;str.length();i++)&#123;</span><br><span class="line">		if(str[i] - &#39;0&#39; &gt; 0)&#123;</span><br><span class="line">			break;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if(i&#x3D;&#x3D;str.length())&#123;</span><br><span class="line">		return &quot;0&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	str.erase(0,i);</span><br><span class="line">	return str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;fill the shorter string with 0 infront, to make the two strings equal in length</span><br><span class="line">void equalizeTheLength(string &amp;str1,string &amp;str2)&#123;&#x2F;&#x2F;pass the string by reference</span><br><span class="line">    int len1 &#x3D; str1.length();</span><br><span class="line">    int len2 &#x3D; str2.length();</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    if(len1 &gt; len2)&#123;</span><br><span class="line">        for(int i &#x3D; 0;i &lt; len1 - len2;i++)&#123;</span><br><span class="line">            str2 &#x3D; &quot;0&quot; + str2;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;else if(len1 &lt; len2)&#123;</span><br><span class="line">        for(int i &#x3D; 0;i &lt; len2 - len1;i++)&#123;</span><br><span class="line">            str1 &#x3D; &quot;0&quot; + str1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;judge the string is zero or not</span><br><span class="line">bool ifZero(string&amp; str) &#123;</span><br><span class="line">	unsigned int i, l;</span><br><span class="line">    for (i &#x3D; 0, l &#x3D; str.length(); i &lt; l; i++) </span><br><span class="line">        if (str[i] !&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">        	return false;</span><br><span class="line">        &#125; </span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;add 0 to the right of the string to shift it &lt;&lt;</span><br><span class="line">string shiftString(string str,int len)&#123;</span><br><span class="line">    if(str &#x3D;&#x3D; &quot;0&quot;)&#123;</span><br><span class="line">        return str;</span><br><span class="line">    &#125;</span><br><span class="line">    for(int i &#x3D; 0;i &lt; len;++i)&#123;</span><br><span class="line">        str +&#x3D; &quot;0&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string schoolMinus(string str1, string str2, string B)&#123;</span><br><span class="line">	int base &#x3D; stoi(B);</span><br><span class="line">	&#x2F;&#x2F;if two numbers are equal, the result is 0</span><br><span class="line">	if(str1 &#x3D;&#x3D; str2)&#123;</span><br><span class="line">		return &quot;0&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	string str &#x3D; &quot;&quot;;</span><br><span class="line">	int gap &#x3D; str1.length() - str2.length();</span><br><span class="line">	int carry &#x3D; 0;</span><br><span class="line">	&#x2F;&#x2F;calculate numbers in each digit, str1-str2+carry</span><br><span class="line">	for(int i &#x3D; str2.length() - 1; i &gt;&#x3D; 0; i--)&#123;</span><br><span class="line">		int sum &#x3D; ((str1[i+gap] - &#39;0&#39;) - (str2[i] - &#39;0&#39;) + carry);</span><br><span class="line">		&#x2F;&#x2F;if the digit is negative, borrow a number from a significant digit, set carry to -1</span><br><span class="line">		if(sum &lt; 0)&#123;</span><br><span class="line">			sum +&#x3D; base;</span><br><span class="line">			carry &#x3D; -1;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			carry &#x3D; 0;</span><br><span class="line">		&#125;</span><br><span class="line">		str.push_back(sum % base + &#39;0&#39;);</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;push the rest part into string</span><br><span class="line">	for(int i &#x3D; str1.length() - str2.length() - 1; i &gt;&#x3D; 0; i--)&#123;</span><br><span class="line">		int sum &#x3D; ((str1[i] - &#39;0&#39;)+ carry);</span><br><span class="line">		if(sum &lt; 0)&#123;</span><br><span class="line">			sum +&#x3D; base;</span><br><span class="line">			carry &#x3D; -1;</span><br><span class="line">		&#125;else&#123;</span><br><span class="line">			carry &#x3D; 0;</span><br><span class="line">		&#125;</span><br><span class="line">		str.push_back(sum % base + &#39;0&#39;);</span><br><span class="line">	&#125;</span><br><span class="line">	reverse(str.begin(), str.end());</span><br><span class="line">	&#x2F;&#x2F;if any 0 infront of the string, erase it</span><br><span class="line">    return removeZero(str);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;multiply signle digit</span><br><span class="line">string mulSingleDigit(string&amp; str, char single, string B) &#123;</span><br><span class="line">	int base &#x3D; stoi(B);</span><br><span class="line">	int carry &#x3D; 0;</span><br><span class="line">    if (single &#x3D;&#x3D; &#39;0&#39;)&#123;</span><br><span class="line">    	return &quot;0&quot;;</span><br><span class="line">    &#125; </span><br><span class="line">    if (single &#x3D;&#x3D; &#39;1&#39;)&#123;</span><br><span class="line">    	return str;</span><br><span class="line">    &#125; </span><br><span class="line">    string result &#x3D; &quot;&quot;;</span><br><span class="line">    for (int i &#x3D; str.size() - 1; i &gt;&#x3D; 0; i--)&#123;</span><br><span class="line">        int d &#x3D; ((single - &#39;0&#39;) * (str[i] - &#39;0&#39;)) + carry;</span><br><span class="line">        carry &#x3D; d &#x2F; base;</span><br><span class="line">        d %&#x3D; base;</span><br><span class="line">        result +&#x3D; d + &#39;0&#39;;</span><br><span class="line">    &#125;</span><br><span class="line">    if (carry)&#123;</span><br><span class="line">    	result +&#x3D; carry + &#39;0&#39;;</span><br><span class="line">    &#125; </span><br><span class="line">    reverse(result.begin(), result.end());</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string karaMultiply(string str1, string str2, string B) &#123;</span><br><span class="line">	&#x2F;&#x2F;if any one number is 0, the result must be 0</span><br><span class="line">    if (ifZero(str1) || ifZero(str2))&#123;</span><br><span class="line">        return &quot;0&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;remove 0 from the left hand side</span><br><span class="line">    str1 &#x3D; removeZero(str1);</span><br><span class="line">    str2 &#x3D; removeZero(str2);</span><br><span class="line">    unsigned int l1 &#x3D; str1.size();</span><br><span class="line">	unsigned int l2 &#x3D; str2.size();</span><br><span class="line">    unsigned int n &#x3D; max(l1,l2);</span><br><span class="line">    if(str1 &#x3D;&#x3D; &quot;0&quot; || str2 &#x3D;&#x3D; &quot;0&quot;)&#123;</span><br><span class="line">    	return &quot;0&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;base case one digit</span><br><span class="line">    if(l1 &#x3D;&#x3D; 1)&#123;</span><br><span class="line">    	return mulSingleDigit(str2, str1[0], B);</span><br><span class="line">    &#125;</span><br><span class="line">    if(l2 &#x3D;&#x3D; 1)&#123;</span><br><span class="line">    	return mulSingleDigit(str1, str2[0], B);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;equal the numbers&#39; length by adding 0 to the left hand side of the shorter number</span><br><span class="line">    equalizeTheLength(str1,str2);</span><br><span class="line">    &#x2F;&#x2F;separate the number into two equal length parts</span><br><span class="line">    int fh &#x3D; n &#x2F; 2;</span><br><span class="line">    int sh &#x3D; (n - fh);</span><br><span class="line">    &#x2F;&#x2F;divide string1 into two half. a &#x3D; (a1*B^k) + a0</span><br><span class="line">    string a1 &#x3D; str1.substr(0,fh);</span><br><span class="line">    string a0 &#x3D; str1.substr(fh,sh);</span><br><span class="line">    &#x2F;&#x2F;divide string2 into two half. b &#x3D; (b1*B^k) + b0</span><br><span class="line">    string b1 &#x3D; str2.substr(0,fh);</span><br><span class="line">    string b0 &#x3D; str2.substr(fh,sh);</span><br><span class="line">    &#x2F;&#x2F;recursive calls</span><br><span class="line">    string p0 &#x3D; karaMultiply(a0,b0,B);</span><br><span class="line">    string p1 &#x3D; karaMultiply(schoolAdd(a1,a0,B),schoolAdd(b1,b0,B),B);</span><br><span class="line">    string p2 &#x3D; karaMultiply(a1,b1,B);</span><br><span class="line">    &#x2F;&#x2F;p &#x3D; (p2*B^(2*k))+((p1-p2-p0)*B^(k))+(p0)</span><br><span class="line">    return removeZero(schoolAdd(schoolAdd(shiftString(p2, 2*(n - n &#x2F; 2)), p0, B), shiftString(schoolMinus(p1,schoolAdd(p2,p0,B),B),(n - (n &#x2F; 2))),B));</span><br><span class="line">&#125;</span><br><span class="line">&#x2F;&#x2F;if str1 &gt; str2, return 1; str1 &#x3D; str2, return 0; str1 &lt; str2, return -1;</span><br><span class="line">int compareString(string &amp;str1,string &amp;str2)&#123;</span><br><span class="line">	if(str1.length()&gt;str2.length())&#123;</span><br><span class="line">		return 1;</span><br><span class="line">	&#125;	</span><br><span class="line">	if(str1.length()&lt;str2.length())&#123;</span><br><span class="line">		return -1;</span><br><span class="line">	&#125;</span><br><span class="line">	unsigned int i;</span><br><span class="line">	for(i&#x3D;0;i&lt;str1.length();i++)&#123;</span><br><span class="line">		if(str1[i]&gt;str2[i])&#123;</span><br><span class="line">			return 1;</span><br><span class="line">		&#125; </span><br><span class="line">		if(str1[i]&lt;str2[i])&#123;</span><br><span class="line">			return -1;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">string division(string &amp;str1,string &amp;str2,string B)&#123;</span><br><span class="line">	unsigned int i,j;</span><br><span class="line">	&#x2F;&#x2F;if str2 &#x3D; 0</span><br><span class="line">	if(str2.length() &#x3D;&#x3D; 1 &amp;&amp; str2[0] - &#39;0&#39;&#x3D;&#x3D; 0)&#123;</span><br><span class="line">		return &quot;the divisor cannot be 0&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;if str1 equal to str2</span><br><span class="line">	if(compareString(str1,str2) &#x3D;&#x3D; 0)&#123;</span><br><span class="line">		return &quot;1&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	&#x2F;&#x2F;if str1 less than str2</span><br><span class="line">	if(compareString(str1,str2) &#x3D;&#x3D; -1)&#123;</span><br><span class="line">		return &quot;0&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">	string tmp, ratio;</span><br><span class="line">	&#x2F;&#x2F;using minus to divide, start from the most significant digit</span><br><span class="line">	for(i &#x3D; 0;i &lt; str1.length();i++)&#123;</span><br><span class="line">		j &#x3D; 0;</span><br><span class="line">		tmp &#x3D; tmp + str1[i];</span><br><span class="line">		tmp &#x3D; removeZero(tmp);</span><br><span class="line">		while(compareString(tmp,str2) &gt;&#x3D; 0)</span><br><span class="line">		&#123;</span><br><span class="line">			tmp &#x3D; schoolMinus(tmp,str2,B);</span><br><span class="line">			tmp &#x3D; removeZero(tmp);</span><br><span class="line">			j++;</span><br><span class="line">		&#125;</span><br><span class="line">		ratio &#x3D; ratio + &quot;0&quot;;</span><br><span class="line">		ratio[i] &#x3D; j + &#39;0&#39;;</span><br><span class="line">	&#125;</span><br><span class="line">	ratio&#x3D;removeZero(ratio);</span><br><span class="line">	return ratio;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()&#123;</span><br><span class="line">    string I1, I2, B;</span><br><span class="line">    &#x2F;&#x2F;input I1 I2 and B</span><br><span class="line">    cin &gt;&gt; I1 &gt;&gt; I2 &gt;&gt; B;</span><br><span class="line">    &#x2F;&#x2F;print the result</span><br><span class="line">    cout &lt;&lt; schoolAdd(I1, I2, B) &lt;&lt; &#39; &#39; &lt;&lt; karaMultiply(I1, I2, B) &lt;&lt; &#39; &#39; &lt;&lt; division(I1, I2, B) &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/12/17/Welcome/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Nicholas Bian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Nicholas Bian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/12/17/Welcome/" itemprop="url">Welcome</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-12-17T18:37:36+10:30">
                2019-12-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Hi everyone who accidently came in this website! welcome to my homepage, from now on I’ll use this website as my blog and update what I learned or what happened in my life here. Of course your are welcome to drop by at any time! </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Nicholas Bian</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          
<br>

<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=5055024&auto=1&height=66"></iframe>
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nicholas Bian</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
